<div class="custom-input">
  <label ng-if="vm.label" for="{{vm.bindId}}">{{vm.label}}</label>
  <div class="input-container" ng-click="vm.modalAutocompleteOpen=true">
    <div ng-if="!vm.$transclude.isSlotFilled('input') && vm.type != 'datepicker'">
        <input
        type="{{vm.type}}"
        name="{{vm.bindName || vm.bindId}}"
        id="{{vm.bindId}}"
        ng-model="vm.model"
        placeholder="{{vm.placeholder}}"
      />
    </div>
    <div ng-if="vm.type == 'datepicker'">
      <datepicker ng-init="vm.getCurrentDate()" date="vm.model"  >
          <input  ng-if="!vm.$transclude.isSlotFilled('input') "
                  class='datepicker-input'
                  ng-click="$event.stopPropagation();"
                  ng-model="vm.model" input-date>
          <i class="fa fa-calendar-o fa-fw" ></i>
      </datepicker>
    </div>
    <span ng-transclude="input" ng-if="vm.$transclude.isSlotFilled('input')"></span>
    <span class="icon" ng-if="vm.icon || vm.iconClass" ng-class="vm.iconClass"><span ng-bind="vm.icon"></span></span>

    <div ng-if="vm.type == 'autoComplete'" dialog class="no-arrow left autocomplete" is-open="vm.dialogOpen">
      <dialog-content>
        <div ng-repeat="item in vm.itemsFiltered track by $index"
          class="row-autocomplete"
          ng-click="vm.selectObject(item)"  model="vm.model">

          <span ng-if="vm.autoCompleteRow"   directive='{{vm.autoCompleteRow}}' compile-template >
          </span>
          <span ng-if="!vm.autoCompleteRow"  directive='<span>{{item}}</span>' compile-template model="vm.model" >

          </span>
        </div>
        <div ng-show="!vm.itemsFiltered.length" class="row-autocomplete empty">אין תוצאות</div>
      </dialog-content>
    </div>
  </div>
  <span ng-if="vm.description" class="description">{{vm.description}}</span>
</div>
